(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-setting-setting"],{"160b":function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"footheight"},[i("v-uni-view",{staticClass:"footer"},[i("v-uni-view",{staticClass:"footer-left"},[i("v-uni-view",{staticClass:"uni-icon uni-icon-mic",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.startRecognize.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"footer-center"},[i("v-uni-input",{staticClass:"input-text",attrs:{type:"text",focus:t.focus},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.foc.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1),i("v-uni-view",{staticClass:"footer-emotion",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.show.apply(void 0,arguments)}}},[i("i",{staticClass:"icon iconfont icon-face"})]),i("v-uni-view",{staticClass:"footer-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessge.apply(void 0,arguments)}}},[i("v-uni-view",{attrs:{id:"msg-type"}},[t._v("发送")])],1)],1),t.showPannel?i("emotion",{attrs:{height:200},on:{emotion:function(e){arguments[0]=e=t.$handleEvent(e),t.handleEmotion.apply(void 0,arguments)}}}):t._e()],1)},a=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return n})},2200:function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-column"},[i("v-uni-view",{staticClass:"content",style:{height:t.style.contentViewHeight+"px"},attrs:{id:"content"}},[i("v-uni-scroll-view",{style:{height:t.style.contentViewHeight+"px"},attrs:{id:"scrollview","scroll-y":"true","scroll-with-animation":!0,"scroll-top":t.scrollTop}},[t._l(t.messages,function(t,e){return i("message-show",{key:e,attrs:{message:t,cid:e}})}),i("v-uni-view",{attrs:{id:"bottom"}})],2)],1),i("v-uni-view",{staticClass:"foot"},[i("chat-input",{on:{"send-message":function(e){arguments[0]=e=t.$handleEvent(e),t.getInputMessage.apply(void 0,arguments)},show:function(e){arguments[0]=e=t.$handleEvent(e),t.setScrollH.apply(void 0,arguments)},foc:function(e){arguments[0]=e=t.$handleEvent(e),t.setScrollH.apply(void 0,arguments)}}})],1)],1)},a=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return n})},3639:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.footer[data-v-68f4f982]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;width:100%;height:%?80?%;min-height:%?80?%;border-top:solid 1px #bbb;overflow:hidden;padding:%?5?%;background-color:#fafafa}.footer-left[data-v-68f4f982]{width:%?80?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.footer-right[data-v-68f4f982]{width:%?100?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#1482d1}.footer-emotion[data-v-68f4f982]{width:%?60?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#1482d1}.footer-center[data-v-68f4f982]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.footer-center .input-text[data-v-68f4f982]{-webkit-box-flex:1;-webkit-flex:1;flex:1;background:#fff;border:solid %?1?% #ddd;padding:%?10?%!important;font-family:verdana!important;overflow:hidden;border-radius:%?15?%}@font-face{font-family:iconfont;\n\t/* project id 1134039 */src:url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.eot);src:url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.eot#iefix) format("embedded-opentype"),url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.woff2) format("woff2"),url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.woff) format("woff"),url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.ttf) format("truetype"),url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.svg#iconfont) format("svg")}.iconfont[data-v-68f4f982]{font-family:iconfont!important;font-size:18px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-face[data-v-68f4f982]:before{content:"\\E71C";font-size:%?50?%}',""])},4183:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481"),i("c5f6");var n={props:{message:{type:Object,default:function(){return{}}},cid:{type:[Number,String],default:""}},data:function(){return{reg:/\#[\S]{1,3}\;/gi}},methods:{emotion:function(t){var e=t.replace(/\#|\;/gi,""),i=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"],n=i.indexOf(e);return'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'.concat(n,'.gif" align="middle">')}}};e.default=n},"43e7":function(t,e,i){var n=i("f3f1");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("656a6d8a",n,!0,{sourceMap:!1,shadowMode:!1})},"526b":function(t,e,i){"use strict";var n=i("43e7"),o=i.n(n);o.a},5519:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".emotion-box[data-v-7806abee]{margin:0 auto;width:95%;box-sizing:border-box;padding:5px;border:1px solid #b4b4b4;overflow:hidden;overflow-y:auto}.emotion-box-line[data-v-7806abee]{display:-webkit-box;display:-webkit-flex;display:flex}.emotion-item[data-v-7806abee]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;cursor:pointer}",""])},5609:function(t,e,i){"use strict";var n=i("e33f"),o=i.n(n);o.a},6027:function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"m-item",attrs:{id:"message"+t.cid}},[i("v-uni-view",{staticClass:"m-left"},["home"==t.message.user?i("v-uni-image",{staticClass:"head_icon",attrs:{src:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/homeHL.png"}}):t._e()],1),i("v-uni-view",{staticClass:"m-content"},[i("v-uni-view",{staticClass:"m-content-head",class:{"m-content-head-right":"customer"==t.message.user}},[i("v-uni-view",{class:"m-content-head-"+t.message.user},[i("v-uni-rich-text",{attrs:{nodes:t.message.content.replace(this.reg,t.emotion)}})],1)],1)],1),i("v-uni-view",{staticClass:"m-right"},["customer"==t.message.user?i("v-uni-image",{staticClass:"head_icon",attrs:{src:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/customerHL.png"}}):t._e()],1)],1)},a=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return n})},"64ca":function(t,e,i){"use strict";i.r(e);var n=i("2200"),o=i("fc20");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("526b");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"12745af4",null,!1,n["a"],s);e["default"]=r.exports},6779:function(t,e,i){var n=i("7ebf");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("8490dc36",n,!0,{sourceMap:!1,shadowMode:!1})},"6e34":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("f499")),a=n(i("8e96")),s=n(i("cdb7")),c={data:function(){return{style:{pageHeight:0,contentViewHeight:0,footViewHeight:90,mitemHeight:0},scrollTop:0,messages:[{user:"",type:"",content:""}],ws:123}},components:{chatInput:a.default,messageShow:s.default},onLoad:function(){var t=uni.getSystemInfoSync();this.style.pageHeight=t.windowHeight,this.style.contentViewHeight=t.screenHeight,console.log("设备信息>>>"+(0,o.default)(t)),this.wsInit()},methods:{wsInit:function(t){var e=this;this.ws=new WebSocket("ws://localhost:3000"),this.ws.onopen=function(t){uni.showToast({title:"已连接服务器",icon:"none"})},this.ws.onmessage=function(t){e.addMessage("home",t.data),console.log(t.data)},this.ws.onerror=function(t){uni.showToast({title:"发生错误,尝试重新连接",icon:"none",duration:3e3})},this.ws.onclose=function(){uni.showToast({title:"对方退出聊天",icon:"none"})}},getInputMessage:function(t){this.addMessage("customer",t.content,!1);var e={id:"002",message:t.content};this.ws.send((0,o.default)(e)),this.setScrollH()},addMessage:function(t,e,i,n){var o=this;e=o.messages.push({user:t,content:e,hasSub:i,subcontent:n})},scrollToBottom:function(){this.scrollTop+=133},setScrollH:function(){var t=uni.createSelectorQuery(),e=t.select(".foot"),i=uni.getSystemInfoSync();this.style.pageHeight=i.windowHeight,this.$nextTick(function(){var t=this;e.fields({size:!0},function(n){e=n.height,console.log("fh",n.height),t.style.contentViewHeight=i.windowHeight-e}).exec(),console.log("contentViewHeight",this.style.contentViewHeight)})}}};e.default=c},7996:function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"emotion-box",style:{height:t.height+"px"}},t._l(t.list,function(e,n){return i("v-uni-view",{key:n,staticClass:"emotion-box-line"},t._l(e,function(e,n){return i("v-uni-view",{key:n,staticClass:"emotion-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickHandler(e)}}},[i("v-uni-rich-text",{attrs:{nodes:e.replace(/\S{1,3}/gi,t.emotion(e))}})],1)}),1)}),1)},a=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return n})},"7b96":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481");var o=n(i("9970")),a={name:"chat-input",components:{Emotion:o.default},data:function(){return{inputValue:"",showPannel:!1,focus:!1}},methods:{startRecognize:function(){var t={},e=this;t.engine="iFly",e.inputValue="",plus.speech.startRecognize(t,function(t){console.log(t),e.inputValue+=t},function(t){console.log("语音识别失败："+t.message)})},sendMessge:function(){var t=this;""==t.inputValue.trim()?t.inputValue="":(this.$emit("send-message",{type:"text",content:t.inputValue}),t.inputValue="",this.showPannel=!1)},show:function(){this.showPannel=!this.showPannel,this.$emit("show")},foc:function(){this.showPannel=!1,this.$emit("foc")},emotion:function(t){var e=t.replace(/\#|\;/gi,""),i=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"],n=i.indexOf(e);return'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'.concat(n,'.gif" align="middle">')},handleEmotion:function(t){this.inputValue+=t}}};e.default=a},"7e64":function(t,e,i){"use strict";i.r(e);var n=i("4183"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},"7ebf":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.m-item[data-v-1948d634]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-top:%?40?%}.m-left[data-v-1948d634]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?120?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.m-content[data-v-1948d634]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;word-break:break-all}.m-right[data-v-1948d634]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?120?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.head_icon[data-v-1948d634]{width:%?80?%;height:%?80?%}.m-content-head[data-v-1948d634]{position:relative}.m-content-head-right[data-v-1948d634]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.m-content-head-home[data-v-1948d634]{text-align:left;background:#1482d1;border:1px #1482d1 solid;border-radius:%?20?%;padding:%?20?%;color:#fff;display:inline-block}.m-content-head-home[data-v-1948d634]:before{border:%?15?% solid transparent;border-right:%?15?% solid #1482d1;left:%?-26?%;width:0;height:0;position:absolute;content:" "}.m-content-head-customer[data-v-1948d634]{border:%?1?% #fff solid;background:grey;color:#fff;border-radius:%?20?%;padding:%?20?%}.m-content-head-customer[data-v-1948d634]:after{border:%?15?% solid transparent;border-left:%?15?% solid #fff;top:%?20?%;right:%?-26?%;width:0;height:0;position:absolute;content:" "}',""])},"8e96":function(t,e,i){"use strict";i.r(e);var n=i("160b"),o=i("fa72");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("5609");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"68f4f982",null,!1,n["a"],s);e["default"]=r.exports},"974d":function(t,e,i){"use strict";i.r(e);var n=i("c9dc"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},9970:function(t,e,i){"use strict";i.r(e);var n=i("7996"),o=i("974d");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("9d5b");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"7806abee",null,!1,n["a"],s);e["default"]=r.exports},"9d5b":function(t,e,i){"use strict";var n=i("f906"),o=i.n(n);o.a},c9dc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var n={props:{height:{type:Number,default:200}},data:function(){return{list:[["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴"],["睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过"],["酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢"],["饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂"],["疑问","嘘","晕","折磨","衰","骷髅","敲打","再见"],["擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠"],["鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀"],["西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰"],["凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀"],["足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强"],["弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你"],["NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈"],["磕头","回头","跳绳","挥手","激动","街舞","左太极","右太极"]],reg:/\S{1,3}/gi,item:[]}},methods:{clickHandler:function(t){var e="#".concat(t,";");this.$emit("emotion",e)},emotion:function(t){var e=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"],i=e.indexOf(t);return'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'.concat(i,'.gif" align="middle">')}}};e.default=n},cdb7:function(t,e,i){"use strict";i.r(e);var n=i("6027"),o=i("7e64");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("dc31");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"1948d634",null,!1,n["a"],s);e["default"]=r.exports},dc31:function(t,e,i){"use strict";var n=i("6779"),o=i.n(n);o.a},e33f:function(t,e,i){var n=i("3639");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("04de6f03",n,!0,{sourceMap:!1,shadowMode:!1})},f3f1:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".uni-column[data-v-12745af4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.content[data-v-12745af4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1\n\t/* margin-bottom: 100upx; */}.foot[data-v-12745af4]{position:fixed;width:100%;\n\t/* height: 90upx;\n\tmin-height: 90upx; */height:auto;left:%?0?%;bottom:0;overflow:hidden}",""])},f906:function(t,e,i){var n=i("5519");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("969f0016",n,!0,{sourceMap:!1,shadowMode:!1})},fa72:function(t,e,i){"use strict";i.r(e);var n=i("7b96"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},fc20:function(t,e,i){"use strict";i.r(e);var n=i("6e34"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a}}]);